!function(a){function b(){return-1!==navigator.userAgent.indexOf("Mobile")||-1!==navigator.userAgent.indexOf("Android")}a.okshadow=function(c,d){var e=this;e.$el=a(c),e.el=c,e.$el.data("okshadow",e);var f=!0;e.init=function(){e.options=a.extend({},a.okshadow.options,d),e.build()},e.build=function(){e.start()},e.clamp=function(a,b,c){return Math.max(b,Math.min(c,a))},e.setoption=function(b,c){if("string"==typeof b){if(e.options[b]=c,"color"===b)return e.update(e.sx,e.sy,e.fuzz)}else e.options=a.extend(e.options,b);e.mousemove(e)},e.start=function(){b()&&"DeviceOrientationEvent"in window?(window.addEventListener("deviceorientation",e.deviceorientation,!1),e.deviceorientation({alpha:0,beta:0,gamma:0}),window.addEventListener("resize",e.resize,!1),e.portraitMode=!0):(a(window).bind({mousemove:e.mousemove}),e.mousemove({pageX:a(window).width()/2,pageY:a(window).height()/2})),e.options.transparent&&(e.el.style.color="transparent"),e.update()},e.resize=function(){var b=a(window).height()/a(window).width();e.portraitMode=b>=1},e.deviceorientation=function(a){if(a&&"beta"in a){var b,c;e.portraitMode?(b=a.beta,c=a.gamma):(b=a.gamma,c=a.beta),distance=Math.sqrt(b*b+c*c),e.sx=null!=e.options.xMax?c/90*e.options.xMax:50*(c/90),e.sy=null!=e.options.yMax?b/90*e.options.yMax:50*(b/90),e.fuzz=null!=e.options.fuzzMax?Math.min(Math.abs(distance/90*(e.options.fuzzMax-e.options.fuzzMin)+e.options.fuzzMin),e.options.fuzzMax):Math.abs(distance/90*(30-e.options.fuzzMin)+e.options.fuzzMin,30),e.options.downwards&&(e.sy=Math.abs(e.sy)),e.sx+=e.options.xOffset,e.sy+=e.options.yOffset}},e.mousemove=function(a){var b=e.$el.offset(),c=a.pageX,d=a.pageY,f=b.top+e.$el.height()/2,g=b.left+e.$el.width()/2,h=g-c,i=f-d,j=h/e.options.xFactor,k=i/e.options.yFactor,l=Math.sqrt(h*h+i*i),m=l/e.options.fuzz+e.options.fuzzMin;null!=e.options.xMax&&(j=e.clamp(j,-1*e.options.xMax,e.options.xMax)),null!=e.options.yMax&&(k=e.clamp(k,-1*e.options.yMax,e.options.yMax)),null!=e.options.fuzzMax&&(m=e.clamp(m,e.options.fuzzMin,e.options.fuzzMax)),j+=e.options.xOffset,k+=e.options.yOffset,e.pageX=c,e.pageY=d,e.sx=j,e.sy=k,e.fuzz=m},e.browsers=" -moz- -webkit- -ms-".split(" "),e.update=function(){if(f){requestAnimFrame(e.update);var d=e.sx+"px "+e.sy+"px "+e.fuzz+"px "+e.options.color,g=e.options.textShadow?"text-shadow":"text-shadow",h={};for(var i in e.browsers)h[e.browsers[i]+g]=d;e.$el.css(h)}},e.pause=function(){f=!1},e.unpause=function(){f||(f=!0,e.update())},e.init()},a.okshadow.options={color:"#888",fuzz:40,fuzzMin:0,fuzzMax:30,xOffset:0,xFactor:30,xMax:30,yOffset:0,yFactor:30,yMax:30,downwards:!0,textShadow:!1,transparent:!1},a.fn.okshadow=function(b){return this.each(function(){new a.okshadow(this,b)})},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()}(jQuery);